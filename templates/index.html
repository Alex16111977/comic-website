<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K√∂nig Lear - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/css/index.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üëë –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ö–æ—Ä–æ–ª—è –õ–∏—Ä–∞</h1>
            <p class="subtitle">
                –ò–∑—É—á–∞–µ–º –Ω–µ–º–µ—Ü–∫–∏–π —á–µ—Ä–µ–∑ —Ç—Ä–∞–≥–µ–¥–∏—é –®–µ–∫—Å–ø–∏—Ä–∞<br>
                –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —Å {{ character_count }} –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏
            </p>
            <div class="stats">
                <div class="stat">
                    <span class="stat-number">{{ character_count }}</span>
                    <span class="stat-label">–ü–µ—Ä—Å–æ–Ω–∞–∂–µ–π</span>
                </div>
                <div class="stat">
                    <span class="stat-number">{{ phase_total }}</span>
                    <span class="stat-label">–§–∞–∑—ã –ø—É—Ç–∏</span>
                </div>
                <div class="stat">
                    <span class="stat-number">{{ vocabulary_total }}</span>
                    <span class="stat-label">–°–ª–æ–≤ B1</span>
                </div>
            </div>
        </header>

        {% if review_items %}
        <section class="review-section">
            <div class="review-header">
                <h2>–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è</h2>
                <p>–ü–æ–¥–±–æ—Ä–∫–∞ {{ review_items|length }} —Å–ª–æ–≤ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –æ—Å–≤–µ–∂–∏—Ç—å.</p>
            </div>
            <div class="review-grid">
                {% for item in review_items %}
                <article class="review-card"
                         data-word-id="{{ item.id }}"
                         data-vocabulary-id="{{ item.id }}"
                         {% if item.character_id %}data-character-id="{{ item.character_id }}"{% endif %}
                         {% if item.phase_id %}data-phase-id="{{ item.phase_id }}"{% endif %}
                         {% if item.character_name %}data-character-name="{{ item.character_name }}"{% endif %}
                         {% if item.phase_title %}data-phase-title="{{ item.phase_title }}"{% endif %}
                         {% if item.word_slug %}data-word-slug="{{ item.word_slug }}"{% endif %}
                         {% if item.added_at %}data-added-at="{{ item.added_at }}"{% endif %}>
                    <button class="review-remove-btn" type="button" aria-label="–£–±—Ä–∞—Ç—å –∏–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è">√ó</button>
                    <div class="review-card-header">
                        <div class="review-icon">{{ item.emoji }}</div>
                        <div class="review-title">
                            <span class="review-word">{{ item.word }}</span>
                            {% if item.translation %}
                            <span class="review-translation">{{ item.translation }}</span>
                            {% endif %}
                        </div>
                    </div>
                    {% if item.character_name or item.phase_title or item.added_at %}
                    <div class="review-origin">
                        {% if item.character_name %}
                        <span class="review-origin-item">–ü–µ—Ä—Å–æ–Ω–∞–∂: {{ item.character_name }}</span>
                        {% endif %}
                        {% if item.phase_title %}
                        <span class="review-origin-item">–§–∞–∑–∞: {{ item.phase_title }}</span>
                        {% endif %}
                        {% if item.added_at %}
                        <span class="review-origin-item">–î–æ–±–∞–≤–ª–µ–Ω–æ: {{ item.added_at|replace('T', ' ') }}</span>
                        {% endif %}
                    </div>
                    {% endif %}
                    {% if item.example %}
                    <p class="review-example">¬´{{ item.example }}¬ª</p>
                    {% endif %}
                    <div class="review-meta">
                        {% if item.level %}
                        <span class="review-tag">–£—Ä–æ–≤–µ–Ω—å {{ item.level }}</span>
                        {% endif %}
                        {% if item.category %}
                        <span class="review-tag">–¢–µ–º–∞: {{ item.category }}</span>
                        {% endif %}
                        {% if item.phonetic %}
                        <span class="review-tag">{{ item.phonetic }}</span>
                        {% endif %}
                    </div>
                    <a href="{{ item.practice_url }}" class="review-link" aria-label="–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–ª–æ–≤–∞ {{ item.word }}">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ ‚Üí</a>
                </article>
                {% endfor %}
            </div>
        </section>
        {% endif %}

        <div class="characters-grid">
            {% for card in cards %}
            <div class="character-card" data-character="{{ card.id }}">
                <div class="card-icon">{{ card.icon }}</div>
                <h3>{{ card.name }}</h3>
                <p class="role">{{ card.role }}</p>
                <div class="phase-count">{{ card.phase_count }} —Ñ–∞–∑ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</div>
                <a href="{{ card.url }}" class="journey-link">–ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ ‚Üí</a>
            </div>
            {% endfor %}
        </div>
    </div>
    <script src="static/js/index.js"></script>
</body>
</html>
